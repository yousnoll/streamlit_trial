# メモ

## DataFrame の持ち方

まず`AgGrid`に渡す用が確定。（`st.session_state`）
最新の状態のものも確定。
ファイルはその都度読んでもいいし、キャッシュでもいいのか。


- `AgGrid`に渡す`DataFrame` (`st.session_state`)
  - グリッドの再描画時が更新タイミング
  - 逆に更新するには再描画が必要ともいえる
- 最新の`DataFrame` (`st.session_state`)
  - 基本的にこれを変更する
  - 必要に応じで`AgGrid`に反映する
  - 必要に応じてファイルから読み取る


## ファイルの保存タイミング

とりあえず今考えてるのは3パターン

- 変更したら保存 - 変更が反映されないことがほぼない
- 保存ボタン - 変更が失われやすいが、最もシンプル
- 特定アクション時 - 書き込み頻度を抑えつつ、完全ではないものの、ある程度自動保存の両立

## ソートの保存

グリッド上とデータの並びが違うことを理解してないのでは？
表示なのでフィルターの影響も受けるからダメ。

やるなら、グリッド上ではなく、データ事態を並び替える機能では？
実際にできるのは確認できてる。

## TODO

- [x] AgGridに渡すデータフレームを、コード上で並び替えたら反映されるのか？
  - 反映される。というか二重にソートされる奴で確認はできてたか。